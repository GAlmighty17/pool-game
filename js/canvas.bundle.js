!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var r=i.p+"f9b155a0dd982fd4cc4950a68730a9ca.jpg";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h=document.getElementById("pool-board"),o=h.getContext("2d"),a=document.getElementById("fps"),d=new Image;d.src=r;var u,y=new Date,c={x:0,y:0},f={x:0,y:0},x={X:0,y:0,power:0};function l(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)}}function p(t,e){var i=t.dx-e.dx,r=t.dy-e.dy;if(i*(e.x-t.x)+r*(e.y-t.y)>=0){var n=-Math.atan2(e.y-t.y,e.x-t.x),s=t.mass,h=e.mass,o=l({x:t.dx,y:t.dy},n),a=l({x:e.dx,y:e.dy},n),d={x:o.x*(s-h)/(s+h)+2*a.x*h/(s+h),y:o.y},u={x:a.x*(h-s)/(s+h)+2*o.x*h/(s+h),y:a.y},y=l(d,-n),c=l(u,-n);t.dx=y.x,t.dy=y.y,e.dx=c.x,e.dy=c.y}}function b(t,e){var i=t.x-e.x,r=t.y-e.y;return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}function g(t,e){this.radius=100,this.x=0,this.y=0,this.draw=function(t){t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.radius,this.y),t.arc(this.x,this.y,this.radius,0,Math.PI/2,!1),t.moveTo(this.x,this.y),t.closePath(),t.fillStyle="#000",t.fill()}}function v(t,e,i){this.radius=43,this.x=t,this.y=e,this.dx=0,this.dy=0,this.color=i,this.mass=1,this.draw=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fillStyle=this.color,t.fill()},this.update=function(t){this.x+=this.dx,this.y+=this.dy,this.x+this.radius+this.dx>=h.width&&(this.x=h.width-this.radius),this.x-this.radius<=0&&(this.x=this.radius),this.y+this.radius+this.dy>=h.height&&(this.y=h.height-this.radius),this.y-this.radius<=0&&(this.y=this.radius),this.x+this.radius+this.dx>=h.width||this.x-this.radius<=0?this.dx=.4*-this.dx:this.dx*=.99,this.y+this.radius+this.dy>=h.height||this.y-this.radius<=0?this.dy=.4*-this.dy:this.dy*=.99,Math.abs(this.dx)<.1&&Math.abs(this.dy)<.1&&(this.dx=0,this.dy=0);for(var e=0;e<m.length;e++){if(this===m[e]&&this===u)return;b({x:this.x,y:this.y},{x:m[e].x,y:m[e].y})<=this.radius+m[e].radius&&p(this,m[e])}this.draw(t)}}h.width=document.getElementById("container").offsetWidth-150,h.height=document.getElementById("container").offsetHeight-150,addEventListener("mousedown",(function(t){var e;c={x:(e=t).x,y:e.y}})),addEventListener("mouseup",(function(t){return function(t){f={x:t.x,y:t.y};var e=b(c,f);if(0===e)return;var i=50*e/(h.width/2),r=i>50?50:i,o=function(t,e,i){var r=t.x-e.x,n=t.y-e.y,s=Math.round(r/i*1e3)/1e3,h=Math.round(n/i*1e3)/1e3;return{x:s,y:h}}(c,f,e);x=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},o,{power:r}),u.dx+=x.power*x.x,u.dy+=x.power*x.y,console.log(u.dx,u.dy)}(t)}));var w,m=new Array;!function(){u=new v(100,h.height/2,"#fff");for(var t=1;t<=15;t++)m.push(new v(100*t,h.height/2,"#f".concat(t,"f")));w=new g}(),function t(e){var i=e-y;y=e,a.innerHTML=Math.floor(1e3/i)+"fps",o.drawImage(d,0,0,h.width,h.height),w.draw(o),u.update(o);for(var r=0;r<m.length;r++)m[r].update(o);requestAnimationFrame(t)}(0)}]);
//# sourceMappingURL=canvas.bundle.js.map